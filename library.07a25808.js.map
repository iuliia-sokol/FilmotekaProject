{"mappings":"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","sources":["src/javascript/library.js","src/javascript/libRefs.js","src/javascript/renderLibraryMarkUp.js","src/javascript/libraryFooterModalOpen.js"],"sourcesContent":["import BigPicture from 'bigpicture';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { libRefs } from './libRefs';\nimport { renderLibraryMarkup } from './renderLibraryMarkUp';\nimport { ThemoviedbAPI } from './themoviedbAPI';\nimport { createModalMarkUp } from './renderModalMarkUp';\nimport { spinnerPlay, spinnerStop } from './spiner';\nimport { get, removeLocal } from './localStorageUse';\nimport { libraryFooterModalOpen } from './libraryFooterModalOpen';\nimport { instance } from './firebase';\n\nconst themoviedbAPI = new ThemoviedbAPI();\n\nlibRefs.watchBtn.classList.add('is-active-library');\n\ntry {\n  spinnerPlay();\n  renderWatchedMovies();\n  libRefs.footerLink.addEventListener('click', libraryFooterModalOpen);\n} catch (error) {\n  Notify.failure('Ооps, something went wrong, please try again');\n} finally {\n  spinnerStop();\n}\n\nlibRefs.watchBtn.addEventListener('click', () => {\n  libRefs.queueBtn.classList.remove('is-active-library');\n  libRefs.watchBtn.classList.add('is-active-library');\n  renderWatchedMovies();\n});\nlibRefs.queueBtn.addEventListener('click', () => {\n  libRefs.watchBtn.classList.remove('is-active-library');\n  libRefs.queueBtn.classList.add('is-active-library');\n  renderQueueMovies();\n});\nlibRefs.library.addEventListener('click', onMovieCardClick);\n\nfunction displayBg(array) {\n  const emptyTitle = document.querySelector('.js-title-queue');\n  const emptyImg = document.querySelector('.js-library-bg-image');\n  const mainEl = document.querySelector('main');\n  if (array.length > 0) {\n    emptyTitle.classList.add('visually-hidden');\n    emptyImg.classList.add('visually-hidden');\n    mainEl.classList.remove('perspective');\n  }\n  if (array.length === 0) {\n    emptyTitle.classList.remove('visually-hidden');\n    emptyImg.classList.remove('visually-hidden');\n    mainEl.classList.add('perspective');\n  }\n}\n\nasync function renderWatchedMovies() {\n  libRefs.library.innerHTML = '';\n  const watchedMovies = get(themoviedbAPI.WATCH_KEY);\n  displayBg(watchedMovies);\n  try {\n    const watchedMoviesIds = watchedMovies.map(movie => movie.id);\n    watchedMoviesIds.forEach(async id => {\n      const movie = await themoviedbAPI.fetchMovieById(id);\n      const genre = movie.genres.map(genre => genre.name);\n      if (genre.length > 2) {\n        genre.splice(2, genre.length - 1, 'Other');\n      }\n      if (genre.length === 0) {\n        genre.push('Other');\n      }\n      libRefs.library.insertAdjacentHTML(\n        'beforeend',\n        renderLibraryMarkup(movie, genre.join(', '))\n      );\n      libRefs.library.lastElementChild.setAttribute('data-status', 'watched');\n    });\n  } catch (error) {\n    Notify.failure('Ооps, something went wrong, please try again');\n  }\n}\n\nasync function renderQueueMovies() {\n  spinnerPlay();\n  libRefs.library.innerHTML = '';\n  const queueMovies = get(themoviedbAPI.QUEUE_KEY);\n  console.log(queueMovies);\n  displayBg(queueMovies);\n  const queueMoviesIDes = queueMovies.map(movie => movie.id);\n  try {\n    queueMoviesIDes.forEach(async id => {\n      const movie = await themoviedbAPI.fetchMovieById(id);\n      const genre = movie.genres.map(genre => genre.name);\n      if (genre.length > 2) {\n        genre.splice(2, genre.length - 1, 'Other');\n      }\n      if (genre.length === 0) {\n        genre.push('Other');\n      }\n      libRefs.library.insertAdjacentHTML(\n        'beforeend',\n        renderLibraryMarkup(movie, genre.join(', '))\n      );\n      libRefs.library.lastElementChild.setAttribute('data-status', 'queue');\n    });\n  } catch (error) {\n    Notify.failure('Ооps, something went wrong, please try again');\n  } finally {\n    spinnerStop();\n  }\n}\n\nasync function onMovieCardClick(event) {\n  const movieCard = event.target.closest('.gallery__item');\n  try {\n    spinnerPlay();\n    const movieId = movieCard.dataset.id;\n\n    const movieStatus = movieCard.dataset.status;\n\n    await themoviedbAPI.fetchMovieById(movieId).then(data => {\n      const posterPath = data.poster_path\n        ? `https://image.tmdb.org/t/p/w300${data.poster_path}`\n        : `https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png`;\n      const releaseYear = new Date(Date.parse(data.release_date)).getFullYear();\n      const filmData = {\n        id: data.id,\n        poster: posterPath,\n        title: data.title,\n        originalTitle: data.original_title,\n        genres: [],\n        popularity: data.popularity.toFixed(1),\n        overview: data.overview,\n        vote_average: data.vote_average.toFixed(1),\n        vote_count: data.vote_count,\n        release_date: releaseYear,\n      };\n\n      data.genres.forEach(genre => {\n        filmData.genres.push(genre.name);\n      });\n      filmData.genres = filmData.genres.join(', ');\n\n      createModalMarkUp(filmData);\n\n      const removeFromWatchedBtn = document.querySelector(\n        '.lightbox-modal__watched-button'\n      );\n      const removeFromQuequeBtn = document.querySelector(\n        '.lightbox-modal__queque-button'\n      );\n\n      removeFromWatchedBtn.addEventListener('click', onRemoveFromWatchedClick);\n      removeFromQuequeBtn.addEventListener('click', onRemoveFromQuequeClick);\n\n      checkLocalStorageLibrary(\n        themoviedbAPI.WATCH_KEY,\n        filmData,\n        removeFromWatchedBtn,\n        'Remove from Watched',\n        'watched'\n      );\n\n      checkLocalStorageLibrary(\n        themoviedbAPI.QUEUE_KEY,\n        filmData,\n        removeFromQuequeBtn,\n        'Remove from Queque',\n        'queue'\n      );\n\n      function onRemoveFromWatchedClick(e) {\n        const movieId = e.target.dataset.btn;\n        if (instance.userId) {\n          removeFromFirebase(+movieId, e.target.dataset.type);\n        }\n        removeLocal(themoviedbAPI.WATCH_KEY, movieId);\n        e.target.textContent = 'Removed from Watched';\n        e.target.disabled = true;\n        if (e.target.dataset.list === movieStatus) {\n          movieCard.remove();\n        }\n        if (libRefs.watchBtn.classList.contains('is-active-library')) {\n          displayBg(get(themoviedbAPI.WATCH_KEY));\n        } else {\n          displayBg(get(themoviedbAPI.QUEUE_KEY));\n        }\n      }\n\n      function onRemoveFromQuequeClick(e) {\n        const movieId = e.target.dataset.btn;\n        removeLocal(themoviedbAPI.QUEUE_KEY, movieId);\n        e.target.textContent = 'Removed from Queque';\n        e.target.disabled = true;\n        if (e.target.dataset.list === movieStatus) {\n          movieCard.remove();\n        }\n        if (libRefs.watchBtn.classList.contains('is-active-library')) {\n          displayBg(get(themoviedbAPI.WATCH_KEY));\n        } else {\n          displayBg(get(themoviedbAPI.QUEUE_KEY));\n        }\n      }\n    });\n  } catch (error) {\n    Notify.failure('Ооps, something went wrong, please try again');\n  } finally {\n    spinnerStop();\n  }\n}\n\nfunction checkLocalStorageLibrary(key, filmData, btn, btnText, status) {\n  const locStorage = get(key);\n  const currentFilm = filmData;\n  const includesFilm = locStorage.find(film => film.id === currentFilm.id);\n\n  if (includesFilm) {\n    btn.dataset.list = `${status}`;\n    btn.textContent = `${btnText}`;\n  }\n  if (!includesFilm) {\n    btn.classList.add('visually-hidden');\n  }\n}\n\nconst Theme = {\n  LIGHT: 'light-theme',\n  DARK: 'dark-theme',\n};\n\nconst STORAGE_KEY = 'themeKeyLibrary';\n\nconst libraryCheckBox = document.querySelector('.theme-switch__toggle');\nconst bgEl = document.querySelector('.cloak');\n\nlibraryCheckBox.addEventListener('change', onChange);\nisTheme();\n\nfunction onChange(e) {\n  if (e.target.checked) {\n    bgEl.classList.add('cloak--dark');\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(Theme.DARK));\n  } else {\n    bgEl.classList.remove('cloak--dark');\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(Theme.LIGHT));\n  }\n}\n\nfunction isTheme() {\n  const saveTheme = localStorage.getItem(STORAGE_KEY);\n\n  if (!saveTheme) {\n    bgEl.classList.remove('cloak--dark');\n\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(Theme.LIGHT));\n    libraryCheckBox.checked = false;\n  } else {\n    const parseTheme = JSON.parse(saveTheme);\n    if (parseTheme === 'dark-theme') {\n      bgEl.classList.add('cloak--dark');\n      libraryCheckBox.checked = true;\n    }\n    if (parseTheme === 'light-theme') {\n      bgEl.classList.remove('cloak--dark');\n      libraryCheckBox.checked = false;\n    }\n  }\n}\n","export const libRefs = {\n    library: document.querySelector('.gallery--library'),\n    footerLink: document.querySelector('.footer__link'),\n    footerBackDrop: document.querySelector('.footer__backdrop'),\n    footerCloseBtn: document.querySelector('[data-modal-close]'),\n    watchBtn: document.querySelector('.button-watched'),\n    queueBtn: document.querySelector('.button-queue'),\n}\n\n","export function renderLibraryMarkup(data, genres) {\n  const { id, poster_path, title, release_date, vote_average } = data;\n  const votes = vote_average.toFixed(1);\n  const posterPath = data.poster_path\n    ? `https://image.tmdb.org/t/p/w300${poster_path}`\n    : `https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png`;\n  const releaseYear = new Date(Date.parse(release_date)).getFullYear() || '';\n\n  return `<li class=\"gallery__item gallery__item--library movie-card\" data-id=\"${id}\">\n                  <div class=\"movie-card__poster-thumb\">\n                    <img src=\"${posterPath}\"\n                        class=\"movie-card__poster\"\n                        alt=\"${title}\"\n                                            />\n                  </div>\n                  <div class=\"movie-card__wrap\">\n                      <h2 class=\"movie-info-title movie-title-library\"> ${title}</h2>\n                      <div class=\"movie-info-list\">\n                      <p class=\"info-item-genre\">${genres}</p>\n                        <span class=\"info-item-slash\"> | </span>\n                        <p class=\"info-item-year\">${releaseYear}</p>\n                        <span class=\"info-item-vote\">${votes}</span>\n                      </div>\n                  </div>\n            </li>`;\n}\n","import { libRefs } from './libRefs';\n\nexport function libraryFooterModalOpen() {\n  libRefs.footerBackDrop.classList.remove('is-hidden');\n  document.querySelector('body').classList.add('noScroll');\n  document.querySelector('.team').style.animation =\n    'text 2500ms linear alternate 2500ms';\n  document.addEventListener('keydown', hideFooterModal);\n  libRefs.footerBackDrop.addEventListener('click', hideFooterModal);\n  libRefs.footerCloseBtn.addEventListener('click', footerCloseBtnOnClick);\n}\n\nfunction footerCloseBtnOnClick() {\n  libRefs.footerBackDrop.classList.add('is-hidden');\n  removeListeners();\n}\n\nfunction hideFooterModal(e) {\n  if (e.key === 'Escape' || e.target === libRefs.footerBackDrop) {\n    libRefs.footerBackDrop.classList.add('is-hidden');\n    removeListeners();\n  }\n}\n\nfunction removeListeners() {\n  document.removeEventListener('keydown', hideFooterModal);\n  libRefs.footerBackDrop.removeEventListener('click', hideFooterModal);\n  libRefs.footerCloseBtn.removeEventListener('click', footerCloseBtnOnClick);\n  document.querySelector('body').classList.remove('noScroll');\n}\n"],"names":["$bpxeT","parcelRequire","$4f1ca7faaad88fce$export$a53e322463ec8607","library","document","querySelector","footerLink","footerBackDrop","footerCloseBtn","watchBtn","queueBtn","$d30463d709471341$export$271debc1213d424c","data","genres","id","poster_path","title","release_date","votes","vote_average","toFixed","posterPath","concat","releaseYear","Date","parse","getFullYear","$4044ea41c59a9632$var$footerCloseBtnOnClick","classList","add","$4044ea41c59a9632$var$removeListeners","$4044ea41c59a9632$var$hideFooterModal","e","key","target","removeEventListener","remove","$05dc186ade895b4b$var$themoviedbAPI","$X3bd8","ThemoviedbAPI","$ddUeE","spinnerPlay","$05dc186ade895b4b$var$renderWatchedMovies","addEventListener","style","animation","error","$h6c0i","Notify","failure","spinnerStop","$05dc186ade895b4b$var$displayBg","array","emptyTitle","emptyImg","mainEl","length","$05dc186ade895b4b$var$_renderWatchedMovies","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee1","watchedMovies","innerHTML","$2ZtFH","get","WATCH_KEY","map","movie","forEach","_callee","genre1","fetchMovieById","_ctx","sent","genre","name","splice","push","insertAdjacentHTML","join","lastElementChild","setAttribute","$05dc186ade895b4b$var$_renderQueueMovies","_callee2","queueMovies","queueMoviesIDes","QUEUE_KEY","console","log","genre2","$05dc186ade895b4b$var$_onMovieCardClick","event","movieCard","movieId1","movieStatus","closest","dataset","status","then","filmData","poster","originalTitle","original_title","popularity","overview","vote_count","$d1Qha","createModalMarkUp","removeFromWatchedBtn","removeFromQuequeBtn","movieId","btn","$kGlaV","instance","userId","removeFromFirebase","type","removeLocal","textContent","disabled","list","contains","$05dc186ade895b4b$var$checkLocalStorageLibrary","btnText","locStorage","currentFilm","includesFilm","find","film","$05dc186ade895b4b$var$renderQueueMovies","$05dc186ade895b4b$var$Theme","$05dc186ade895b4b$var$STORAGE_KEY","$05dc186ade895b4b$var$libraryCheckBox","$05dc186ade895b4b$var$bgEl","checked","localStorage","setItem","JSON","stringify","saveTheme","getItem","parseTheme","$05dc186ade895b4b$var$isTheme"],"version":3,"file":"library.07a25808.js.map"}